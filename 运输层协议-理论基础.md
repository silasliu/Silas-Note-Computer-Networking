## 可靠数据传输机制
* 校验和
* 定时器
* 序号
* 确认
* 否定确认
* 窗口,流水线

## 流水线的差错恢复方法
### 1. 回退N步(Go-Back-N,GBN)
#### 定义
* 被称为滑动窗口协议(sliding-window protocol)
#### 术语
* 基序号 base
* 下一个序号 nextseqnum 
* 窗口长度(window size) N
#### 缺陷
* 大量重复重传
#### 接收方
* 不缓存失序分组 
### 2. 选择重传(Selective Repeat,SR)
#### 发送方
* 为每个发送窗口内每个分组单独计时
* 新收到ACK的分组与 其之前的发送窗口内的分组 全都收到ACK->发送窗口移动
#### 接收方
* 对接收窗口内及之前的分组回复ACK
* 缓存失序分组
* 新收到的分组与 其之前的接收窗口内的分组 全都收到->向上交付,接收窗口移动
#### 特点
* 不使用累计重传
* 发送方仅重传它怀疑在接收方出错(丢失/受损)的分组
#### 要求
* 窗口长度<=序号范围/2


## 流量控制服务 flow-control service
### 目的
消除发送方式接收方缓存溢出的可能性
### 与拥塞控制(congestion control)的区别
拥塞控制方式->TCP发送方可能因为IP网络的拥塞而被遏制

## 拥塞控制(congestion control)服务
### 产生原因
3种情形  
1. 路由器缓存无限大
2. 路由器缓存大小有限
3. 端到端连接共享路由器

3种代价: 
1. ①分组的到达速率接近链路容量->分组经历巨大的排队延时  
2. ②A传输速率过快导致路由器缓存溢出,分组丢失->需要重发,浪费链路带宽
3. ②B时延过大导致发送方超时->需要重发,浪费链路带宽
4. ③路由器拥塞->该路由器丢弃分组,前一个路由器转发的分组耗费的传输被浪费

### 解决方案
网络层是否为运输层提供显式拥塞控制支持(如提供网络层拥塞状况的显式反馈信息):  
1. 端到端拥塞控制
2. 网络辅助的拥塞控制

TCP采用端到端拥塞控制  
